# ![Icon](images/TypeLoader_32.png) TypeLoader Tables

TypeLoader stores the metadata about all alleles, projects and submissions in an internal SQLite database (one database file for each [=> TypeLoader user account](users.md)). This file is called data.db and stored directly within the user's folder in the TypeLoader data path (which was defined during setup and can be found using the [=> Settings Dialog](settings.md)).

This database contains the following tables (with the data of this user):

 * **PROJECTS**: one row per ENA project
 * **SAMPLES**: one row per sample
 * **ALLELES**: one row per target allele (one sample can contain multiple)
 * **FILES**: one row per target allele
 * **ENA_SUBMISSIONS**: one row per successful ENA submission
 * **IPD_SUBMISSIONS**: one row per generated IPD submission

## Table PROJECTS
This table contains one row per ENA project successfully generated by this user.

| Column nr  | Column  | Type  | Description | Primary Key  |
|---|---|---|---|---|
| 0 | PROJECT\_NAME | TEXT | Name of the project (automatically generated by TypeLoader) | **yes** |
| 1 | PROJECT\_STATUS | TEXT | Status of the project ("Open" or "Closed") | no |
| 2 | CREATION\_DATE | TEXT | Date the project was created | no |
| 3 | USERNAME | TEXT | Name of the user who created the project | no |
| 4 | GENE | TEXT | Gene contained in this project | no |
| 5 | POOL | TEXT | Name of the sample pool contained in this project | no |
| 6 | TITLE | TEXT | Title of this project (optional) | no |
| 7 | DESCRIPTION | TEXT | Description of this project (optional) | no |
| 8 | ENA\_ID\_PROJECT | TEXT | Project ID generated by ENA. | no |
| 9 | ENA\_ID\_SUBMISSION | TEXT | Project submission ID generated by ENA. | no |

## Table SAMPLES
This table contains one row per sample (= DNA of one person).

| Column nr  | Column  | Type  | Description | Primary Key  |
|---|---|---|---|---|
| 0 | SAMPLE\_ID\_INT | TEXT | internal sample ID | **yes** |
| 1 | SAMPLE\_ID\_EXT | TEXT | external sample ID (optional) | no |
| 2 | CELL\_LINE | TEXT | TypeLoader-generated identifier for the sample | no |
| 3 | CUSTOMER | TEXT | customer who sent the sample (optional) | no |

## Table ALLELES
This table contains one row per target allele uploaded to TypeLoader. One sample can contain multiple target alleles.

| Column nr  | Column  | Type  | Description | Primary Key  |
|---|---|---|---|---|
| 0 | SAMPLE\_ID\_INT | TEXT | internal sample ID of the sample | no |
| 1 | ALLELE\_NR | INT | number of this target allele within this sample | no |
| 2 | PROJECT\_NAME | TEXT | project this target allele belongs to | no |
| 3 | PROJECT\_NR | INT | number of this target allele within its project | no |
| 4 | CELL\_LINE\_OLD | TEXT | previously unique identifier of the allele, now empty | no |
| 5 | LOCAL\_NAME | TEXT | an automatically generated unique ID for this target allele based on its internal sample ID | **yes** |
| 6 | GENE | TEXT | the gene this target allele belongs to | no |
| 7 | GOAL | TEXT | the goal pursued for this target allele (novel, extend or confirm) | no |
| 8 | ALLELE\_STATUS | TEXT | the current [allele status](colors_icons.md) of this target allele | no |
| 9 | ORIG\_ALLELE1 | TEXT | the name of allele 1 from the original genotyping for this target allele | no |
| 10 | ORIG\_ALLELE2 | TEXT | the name of allele 2 from the original genotyping for this target allele | no |
| 11 | ORIG\_GENOTYPING\_SOFTWARE | TEXT | the software used for original genotyping of this sample | no |
| 12 | ORIG\_SOFTWARE\_VERSION | TEXT | the software version used for original genotyping of this sample | no |
| 13 | ORIG\_GENOTYPING\_DATE | TEXT | the date of the original genotyping of this sample | no |
| 14 | LAB\_STATUS | TEXT | the current [lab status](colors_icons.md) of this target allele | no |
| 15 | PANEL | TEXT | the lab panel this allele was on | no |
| 16 | POSITION | TEXT | the position of this target allele on its panel | no |
| 17 | SHORT\_READ\_DATA | TEXT | Has short read data been obtained for this target allele? (yes/no) | no |
| 18 | SHORT\_READ\_PHASING | TEXT | Was the short read data for this target allele phased? (yes/no) | no |
| 19 | SHORT\_READ\_TECHNOLOGY | TEXT | With which technology was the short read data obtained? | no |
| 20 | LONG\_READ\_DATA | TEXT | Has long read data been obtained for this target allele? (yes/no) | no |
| 21 | LONG\_READ\_PHASING | TEXT | Was the long read data for this target allele phased? (yes/no)  | no |
| 22 | LONG\_READ\_TECHNOLOGY | TEXT |  With which technology was the long read data obtained? | no |
| 23 | KOMMENTAR | TEXT | any comments | no |
| 24 | TARGET\_ALLELE | TEXT | name of the partner allele (as named by original genotyping) | no |
| 25 | PARTNER\_ALLELE | TEXT | name of the other allele(s) of the same locus within the original genotyping | no |
| 26 | MISMATCH\_POSITION | TEXT | position of the mismatches when compared to the closest allele | no |
| 27 | NULL\_ALLELE | TEXT | is this a null allele? | no |
| 28 | NEW\_GENOTYPING\_SOFTWARE | TEXT | the software version used for secondary genotyping of this sample | no |
| 29 | NEW\_SOFTWARE\_VERSION | TEXT |  the software version used for secondary genotyping of this sample | no |
| 30 | NEW\_GENOTYPING\_DATE | TEXT | the date of the secondary genotyping of this sample | no |
| 31 | REFERENCE\_DATABASE | TEXT | the name of the reference database (IPD-IMGT/HLA or IPD-KIR) | no |
| 32 | DATABASE\_VERSION | TEXT | the version of the reference database used | no |
| 33 | INTERNAL\_NAME | TEXT | internal unique name for this novel allele (not yet used) | no |
| 34 | OFFICIAL\_NAME | TEXT | official name for this target allele, assigned by IPD | no |
| 35 | NEW\_CONFIRMED | TEXT | was this allele considered new or confirmed by IPD? | no |
| 36 | ENA\_SUBMISSION\_ID | TEXT | ID of the submission to ENA | no |
| 37 | ENA\_ACCEPTION\_DATE | TEXT | date of acception by ENA | no |
| 38 | ENA\_ACCESSION\_NR | TEXT | accession number for this target allele, generated by ENA | no |
| 39 | IPD\_SUBMISSION\_ID | TEXT | ID of the submission to IPD | no |
| 40 | IPD\_SUBMISSION\_NR | TEXT | IPD submission number | no |
| 41 | HWS\_SUBMISSION\_NR | TEXT | HWS submission number, generated by IPD | no |
| 42 | IPD\_ACCEPTION\_DATE | TEXT | date of acception by IPD | no |
| 43 | IPD\_RELEASE | TEXT | first IPD release containing this allele | no |
| 44 | UPLOAD\_DATE | TEXT | date when this target allele's raw file was first uploaded to TypeLoader | no |
| 45 | DETECTION\_DATE | TEXT | date when this target allele was first detected | no |

## Table FILES
This table contains one row per target allele, giving the file names of each file associated with this allele.

| Column nr  | Column  | Type  | Description | Primary Key  |
|---|---|---|---|---|
| 0 | SAMPLE\_ID\_INT | TEXT | internal sample ID of the sample | no |
| 1 | ALLELE\_NR | INT | number of this target allele within this sample | no |
| 2 | LOCAL\_NAME | TEXT | automatically generated unique ID for this target allele | **yes** |
| 3 | PROJECT | TEXT | project this target allele belongs to | no |
| 4 | RAW\_FILE\_TYPE | TEXT | type of raw file uploaded to TypeLoader (Fasta or XML) | no |
| 5 | RAW\_FILE | TEXT | name of the renamed raw file uploaded to TypeLoader (TypeLoader only stores the renamed file, not the original file name) | no |
| 6 | FASTA | TEXT | Fasta file for this allele (identical to raw file if raw\_file\_type is Fasta, else generated from XML) | no |
| 7 | BLAST\_XML | TEXT | BLAST-XML file generated by TypeLoader | no |
| 8 | ENA\_FILE | TEXT | ENA submission file generated by TypeLoader | no |
| 9 | ENA\_RESPONSE\_FILE | TEXT | ENA response file received from ENA | no |
| 10 | IPD\_SUBMISSION\_FILE | TEXT | IPD submission file generated by TypeLoader | no |

## Table ENA_SUBMISSIONS
This table contains one row per successful submission of alleles to ENA.

| Column nr  | Column  | Type  | Description | Primary Key  |
|---|---|---|---|---|
| 0 | PROJECT\_NAME | TEXT | project this target allele belongs to | no |
| 1 | SUBMISSION\_ID | TEXT | ID of this submission (project name with timestamp) | **yes** |
| 2 | NR\_ALLELES | INT | number of alleles contained in this submission | no |
| 3 | TIMESTAMP\_SENT | TEXT | timestamp when this submission was sent to ENA | no |
| 4 | TIMESTAMP\_CONFIRMED | TEXT | timestamp when confirmation from ENA was received | no |
| 5 | ACC\_ANALYSIS | TEXT | analysis ID for this submission, generated by ENA (starting with ERZ) | no |
| 6 | ACC\_SUBMISSION | TEXT | submission ID for this submission, generated by ENA (starting with ERA) | no |
| 7 | SUCCESS | TEXT | was this submission successful? (should be 'yes') | no |

## Table IPD_SUBMISSIONS
This table contains one row per successfully generated submission batch for IPD.

| Column nr  | Column  | Type  | Description | Primary Key  |
|---|---|---|---|---|
| 0 | SUBMISSION\_ID | TEXT | ID of this submission (project name with timestamp) | **yes** |
| 1 | NR\_ALLELES | INT | number of alleles contained in this submission | no |
| 2 | TIMESTAMP\_SENT | TEXT | timestamp when these files were generated | no |
| 3 | TIMESTAMP\_CONFIRMED | TEXT | timestamp of the reply file from IPD | no |
| 4 | SUCCESS | TEXT | were these submission files generated successfully? (should be 'yes')   | no |
